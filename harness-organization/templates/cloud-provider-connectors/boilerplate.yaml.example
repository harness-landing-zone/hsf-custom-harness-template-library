type: aws
auth_type: oidc
name: "AWS OIDC Connector"
description: "Harness AWS connector using OIDC"
execute_on_delegate: true
force_delete: false
tags:
  owner: platform-team
  purpose: deployment

oidc_authentication:
  iam_role_arn: "arn:aws:iam::123456789012:role/harness-oidc-role"
  region: "us-east-1"
  delegate_selectors:
    - "aws-delegate"

# Optional STS assume-role hop after initial auth
# cross_account_access:
#   role_arn: "arn:aws:iam::210987654321:role/target-account-role"
#   external_id: "optional-external-id"
