---
# Workspace display name
name: "My Workspace"

# Optional â€” override the filename-derived identifier
# identifier: my_workspace

description: "Harness IaCM Workspace managed by Solutions Factory"

tags:
  owner: platform-team
  env: dev

# Provisioner: terraform | opentofu
provisioner_type: opentofu
provisioner_version: "1.9.0"

cost_estimation_enabled: false

# Repository source
repository: my-org/my-repo
repository_connector: account.my_github_connector
repository_path: infra/dev

# Exactly one of branch / commit / sha must be set
repository_branch: main
# repository_commit: v1.2.3
# repository_sha: abc123def456

# Provider connector for the workspace (one per cloud type: aws | azure | gcp)
workspace_connectors:
  - connector_ref: account.my_aws_connector
    type: aws

# Terraform variables (value_type: string | secret)
terraform_variables:
  - key: region
    value: eu-west-1
    value_type: string
  - key: db_password
    value: account.db_secret
    value_type: secret

# Environment variables
environment_variables:
  - key: TF_LOG
    value: INFO
    value_type: string

# .tfvars files from a repository
# terraform_variable_files:
#   - repository: my-org/my-repo
#     repository_connector: account.my_github_connector
#     repository_path: infra/dev/terraform.tfvars
#     repository_branch: main

# Harness variable sets to attach
# variable_sets:
#   - account.shared_variables

# Default pipelines for workspace operations
# default_pipelines:
#   plan:    Plan_Pipeline
#   apply:   Apply_Pipeline
#   destroy: Destroy_Pipeline
#   drift:   Drift_Detection_Pipeline
